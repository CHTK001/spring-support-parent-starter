import{i as Ue,j as ze,_ as Ze,r as re,o as ue,c as Ne,w as me,a as ce,g as xe,d as He,e as Je,F as Ye,f as Ke,k as je}from"./index-65c3e508.js";var Ee={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(j,I){(function(b){var l=b.setTimeout,w=b.clearTimeout,x=b.XMLHttpRequest,Z=b.XDomainRequest,d=b.ActiveXObject,t=b.EventSource,a=b.document,c=b.Promise,o=b.fetch,h=b.Response,E=b.TextDecoder,C=b.TextEncoder,A=b.AbortController;if(typeof window<"u"&&typeof a<"u"&&!("readyState"in a)&&a.body==null&&(a.readyState="loading",window.addEventListener("load",function(e){a.readyState="complete"},!1)),x==null&&d!=null&&(x=function(){return new d("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(e){function r(){}return r.prototype=e,new r}),Date.now||(Date.now=function(){return new Date().getTime()}),A==null){var Q=o;o=function(e,r){var i=r.signal;return Q(e,{headers:r.headers,credentials:r.credentials,cache:r.cache}).then(function(n){var f=n.body.getReader();return i._reader=f,i._aborted&&i._reader.cancel(),{status:n.status,statusText:n.statusText,headers:n.headers,body:{getReader:function(){return f}}}})},A=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function G(){this.bitsNeeded=0,this.codePoint=0}G.prototype.decode=function(e){function r(g,_,u){if(u===1)return g>=128>>_&&g<<_<=2047;if(u===2)return g>=2048>>_&&g<<_<=55295||g>=57344>>_&&g<<_<=65535;if(u===3)return g>=65536>>_&&g<<_<=1114111;throw new Error}function i(g,_){if(g===6*1)return _>>6>15?3:_>31?2:1;if(g===6*2)return _>15?3:2;if(g===6*3)return 3;throw new Error}for(var n=65533,f="",s=this.bitsNeeded,p=this.codePoint,y=0;y<e.length;y+=1){var v=e[y];s!==0&&(v<128||v>191||!r(p<<6|v&63,s-6,i(s,p)))&&(s=0,p=n,f+=String.fromCharCode(p)),s===0?(v>=0&&v<=127?(s=0,p=v):v>=192&&v<=223?(s=6*1,p=v&31):v>=224&&v<=239?(s=6*2,p=v&15):v>=240&&v<=247?(s=6*3,p=v&7):(s=0,p=n),s!==0&&!r(p,s,i(s,p))&&(s=0,p=n)):(s-=6,p=p<<6|v&63),s===0&&(p<=65535?f+=String.fromCharCode(p):(f+=String.fromCharCode(55296+(p-65535-1>>10)),f+=String.fromCharCode(56320+(p-65535-1&1023))))}return this.bitsNeeded=s,this.codePoint=p,f};var J=function(){try{return new E().decode(new C().encode("test"),{stream:!0})==="test"}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1};(E==null||C==null||!J())&&(E=G);var U=function(){};function W(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=U,this.onload=U,this.onerror=U,this.onreadystatechange=U,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=U}W.prototype.open=function(e,r){this._abort(!0);var i=this,n=this._xhr,f=1,s=0;this._abort=function(u){i._sendTimeout!==0&&(w(i._sendTimeout),i._sendTimeout=0),(f===1||f===2||f===3)&&(f=4,n.onload=U,n.onerror=U,n.onabort=U,n.onprogress=U,n.onreadystatechange=U,n.abort(),s!==0&&(w(s),s=0),u||(i.readyState=4,i.onabort(null),i.onreadystatechange())),f=0};var p=function(){if(f===1){var u=0,m="",q=void 0;if("contentType"in n)u=200,m="OK",q=n.contentType;else try{u=n.status,m=n.statusText,q=n.getResponseHeader("Content-Type")}catch{u=0,m="",q=void 0}u!==0&&(f=2,i.readyState=2,i.status=u,i.statusText=m,i._contentType=q,i.onreadystatechange())}},y=function(){if(p(),f===2||f===3){f=3;var u="";try{u=n.responseText}catch{}i.readyState=3,i.responseText=u,i.onprogress()}},v=function(u,m){if((m==null||m.preventDefault==null)&&(m={preventDefault:U}),y(),f===1||f===2||f===3){if(f=4,s!==0&&(w(s),s=0),i.readyState=4,u==="load")i.onload(m);else if(u==="error")i.onerror(m);else if(u==="abort")i.onabort(m);else throw new TypeError;i.onreadystatechange()}},g=function(u){n!=null&&(n.readyState===4?(!("onload"in n)||!("onerror"in n)||!("onabort"in n))&&v(n.responseText===""?"error":"load",u):n.readyState===3?"onprogress"in n||y():n.readyState===2&&p())},_=function(){s=l(function(){_()},500),n.readyState===3&&y()};"onload"in n&&(n.onload=function(u){v("load",u)}),"onerror"in n&&(n.onerror=function(u){v("error",u)}),"onabort"in n&&(n.onabort=function(u){v("abort",u)}),"onprogress"in n&&(n.onprogress=y),"onreadystatechange"in n&&(n.onreadystatechange=function(u){g(u)}),("contentType"in n||!("ontimeout"in x.prototype))&&(r+=(r.indexOf("?")===-1?"?":"&")+"padding=true"),n.open(e,r,!0),"readyState"in n&&(s=l(function(){_()},0))},W.prototype.abort=function(){this._abort(!1)},W.prototype.getResponseHeader=function(e){return this._contentType},W.prototype.setRequestHeader=function(e,r){var i=this._xhr;"setRequestHeader"in i&&i.setRequestHeader(e,r)},W.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},W.prototype.send=function(){if((!("ontimeout"in x.prototype)||!("sendAsBinary"in x.prototype)&&!("mozAnon"in x.prototype))&&a!=null&&a.readyState!=null&&a.readyState!=="complete"){var e=this;e._sendTimeout=l(function(){e._sendTimeout=0,e.send()},4);return}var r=this._xhr;"withCredentials"in r&&(r.withCredentials=this.withCredentials);try{r.send(void 0)}catch(i){throw i}};function we(e){return e.replace(/[A-Z]/g,function(r){return String.fromCharCode(r.charCodeAt(0)+32)})}function Se(e){for(var r=Object.create(null),i=e.split(`\r
`),n=0;n<i.length;n+=1){var f=i[n],s=f.split(": "),p=s.shift(),y=s.join(": ");r[we(p)]=y}this._map=r}Se.prototype.get=function(e){return this._map[we(e)]},x!=null&&x.HEADERS_RECEIVED==null&&(x.HEADERS_RECEIVED=2);function Ce(){}Ce.prototype.open=function(e,r,i,n,f,s,p){e.open("GET",f);var y=0;e.onprogress=function(){var g=e.responseText,_=g.slice(y);y+=_.length,i(_)},e.onerror=function(g){g.preventDefault(),n(new Error("NetworkError"))},e.onload=function(){n(null)},e.onabort=function(){n(null)},e.onreadystatechange=function(){if(e.readyState===x.HEADERS_RECEIVED){var g=e.status,_=e.statusText,u=e.getResponseHeader("Content-Type"),m=e.getAllResponseHeaders();r(g,_,u,new Se(m))}},e.withCredentials=s;for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&e.setRequestHeader(v,p[v]);return e.send(),e};function Te(e){this._headers=e}Te.prototype.get=function(e){return this._headers.get(e)};function Ie(){}Ie.prototype.open=function(e,r,i,n,f,s,p){var y=null,v=new A,g=v.signal,_=new E;return o(f,{headers:p,credentials:s?"include":"same-origin",signal:g,cache:"no-store"}).then(function(u){return y=u.body.getReader(),r(u.status,u.statusText,u.headers.get("Content-Type"),new Te(u.headers)),new c(function(m,q){var se=function(){y.read().then(function(D){if(D.done)m(void 0);else{var O=_.decode(D.value,{stream:!0});i(O),se()}}).catch(function(D){q(D)})};se()})}).catch(function(u){if(u.name!=="AbortError")return u}).then(function(u){n(u)}),{abort:function(){y!=null&&y.cancel(),v.abort()}}};function ie(){this._listeners=Object.create(null)}function Re(e){l(function(){throw e},0)}ie.prototype.dispatchEvent=function(e){e.target=this;var r=this._listeners[e.type];if(r!=null)for(var i=r.length,n=0;n<i;n+=1){var f=r[n];try{typeof f.handleEvent=="function"?f.handleEvent(e):f.call(this,e)}catch(s){Re(s)}}},ie.prototype.addEventListener=function(e,r){e=String(e);var i=this._listeners,n=i[e];n==null&&(n=[],i[e]=n);for(var f=!1,s=0;s<n.length;s+=1)n[s]===r&&(f=!0);f||n.push(r)},ie.prototype.removeEventListener=function(e,r){e=String(e);var i=this._listeners,n=i[e];if(n!=null){for(var f=[],s=0;s<n.length;s+=1)n[s]!==r&&f.push(n[s]);f.length===0?delete i[e]:i[e]=f}};function Y(e){this.type=e,this.target=void 0}function Ae(e,r){Y.call(this,e),this.data=r.data,this.lastEventId=r.lastEventId}Ae.prototype=Object.create(Y.prototype);function de(e,r){Y.call(this,e),this.status=r.status,this.statusText=r.statusText,this.headers=r.headers}de.prototype=Object.create(Y.prototype);function Oe(e,r){Y.call(this,e),this.error=r.error}Oe.prototype=Object.create(Y.prototype);var he=-1,P=0,K=1,ae=2,pe=-1,$=0,ve=1,Fe=2,qe=3,Me=/^text\/event\-stream(;.*)?$/i,Ve=1e3,Xe=18e6,ge=function(e,r){var i=e==null?r:parseInt(e,10);return i!==i&&(i=r),_e(i)},_e=function(e){return Math.min(Math.max(e,Ve),Xe)},ee=function(e,r,i){try{typeof r=="function"&&r.call(e,i)}catch(n){Re(n)}};function B(e,r){ie.call(this),r=r||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,$e(this,e,r)}function Ge(){return x!=null&&"withCredentials"in x.prototype||Z==null?new x:new Z}var Pe=o!=null&&h!=null&&"body"in h.prototype;function $e(e,r,i){r=String(r);var n=!!i.withCredentials,f=i.lastEventIdQueryParameterName||"lastEventId",s=_e(1e3),p=ge(i.heartbeatTimeout,45e3),y="",v=s,g=!1,_=0,u=i.headers||{},m=i.Transport,q=Pe&&m==null?void 0:new W(m!=null?new m:Ge()),se=m!=null&&typeof m!="string"?new m:q==null?new Ie:new Ce,D=void 0,O=0,k=he,te="",le="",M="",fe="",F=$,be=0,z=0,Qe=function(T,S,N,H){if(k===P)if(T===200&&N!=null&&Me.test(N)){k=K,g=Date.now(),v=s,e.readyState=K;var L=new de("open",{status:T,statusText:S,headers:H});e.dispatchEvent(L),ee(e,e.onopen,L)}else{var R="";T!==200?(S&&(S=S.replace(/\s+/g," ")),R="EventSource's response has a status "+T+" "+S+" that is not 200. Aborting the connection."):R="EventSource's response has a Content-Type specifying an unsupported type: "+(N==null?"-":N.replace(/\s+/g," "))+". Aborting the connection.",ye();var L=new de("error",{status:T,statusText:S,headers:H});e.dispatchEvent(L),ee(e,e.onerror,L),console.error(R)}},We=function(T){if(k===K){for(var S=-1,N=0;N<T.length;N+=1){var H=T.charCodeAt(N);(H===`
`.charCodeAt(0)||H==="\r".charCodeAt(0))&&(S=N)}var L=(S!==-1?fe:"")+T.slice(0,S+1);fe=(S===-1?fe:"")+T.slice(S+1),T!==""&&(g=Date.now(),_+=T.length);for(var R=0;R<L.length;R+=1){var H=L.charCodeAt(R);if(F===pe&&H===`
`.charCodeAt(0))F=$;else if(F===pe&&(F=$),H==="\r".charCodeAt(0)||H===`
`.charCodeAt(0)){if(F!==$){F===ve&&(z=R+1);var V=L.slice(be,z-1),X=L.slice(z+(z<R&&L.charCodeAt(z)===" ".charCodeAt(0)?1:0),R);V==="data"?(te+=`
`,te+=X):V==="id"?le=X:V==="event"?M=X:V==="retry"?(s=ge(X,s),v=s):V==="heartbeatTimeout"&&(p=ge(X,p),O!==0&&(w(O),O=l(function(){oe()},p)))}if(F===$){if(te!==""){y=le,M===""&&(M="message");var ne=new Ae(M,{data:te.slice(1),lastEventId:le});if(e.dispatchEvent(ne),M==="open"?ee(e,e.onopen,ne):M==="message"?ee(e,e.onmessage,ne):M==="error"&&ee(e,e.onerror,ne),k===ae)return}te="",M=""}F=H==="\r".charCodeAt(0)?pe:$}else F===$&&(be=R,F=ve),F===ve?H===":".charCodeAt(0)&&(z=R+1,F=Fe):F===Fe&&(F=qe)}}},De=function(T){if(k===K||k===P){k=he,O!==0&&(w(O),O=0),O=l(function(){oe()},v),v=_e(Math.min(s*16,v*2)),e.readyState=P;var S=new Oe("error",{error:T});e.dispatchEvent(S),ee(e,e.onerror,S),T!=null&&console.error(T)}},ye=function(){k=ae,D!=null&&(D.abort(),D=void 0),O!==0&&(w(O),O=0),e.readyState=ae},oe=function(){if(O=0,k!==he){if(!g&&D!=null)De(new Error("No activity within "+p+" milliseconds. "+(k===P?"No response received.":_+" chars received.")+" Reconnecting.")),D!=null&&(D.abort(),D=void 0);else{var T=Math.max((g||Date.now())+p-Date.now(),1);g=!1,O=l(function(){oe()},T)}return}g=!1,_=0,O=l(function(){oe()},p),k=P,te="",M="",le=y,fe="",be=0,z=0,F=$;var S=r;if(r.slice(0,5)!=="data:"&&r.slice(0,5)!=="blob:"&&y!==""){var N=r.indexOf("?");S=N===-1?r:r.slice(0,N+1)+r.slice(N+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(X,ne){return ne===f?"":X}),S+=(r.indexOf("?")===-1?"?":"&")+f+"="+encodeURIComponent(y)}var H=e.withCredentials,L={};L.Accept="text/event-stream";var R=e.headers;if(R!=null)for(var V in R)Object.prototype.hasOwnProperty.call(R,V)&&(L[V]=R[V]);try{D=se.open(q,Qe,We,De,S,H,L)}catch(X){throw ye(),X}};e.url=r,e.readyState=P,e.withCredentials=n,e.headers=u,e._close=ye,oe()}B.prototype=Object.create(ie.prototype),B.prototype.CONNECTING=P,B.prototype.OPEN=K,B.prototype.CLOSED=ae,B.prototype.close=function(){this._close()},B.CONNECTING=P,B.OPEN=K,B.CLOSED=ae,B.prototype.withCredentials=void 0;var Le=t;x!=null&&(t==null||!("withCredentials"in t.prototype))&&(Le=B),function(e){{var r=e(I);r!==void 0&&(j.exports=r)}}(function(e){e.EventSourcePolyfill=B,e.NativeEventSource=t,e.EventSource=Le})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:Ue:globalThis)})(Ee,Ee.exports);var et=Ee.exports,Be={};(function(j){(function(I,b){if(typeof j.nodeName!="string")b(j);else{var l={};b(l),I.AnsiUp=l.default}})(Ue,function(I){var b=this&&this.__makeTemplateObject||function(d,t){return Object.defineProperty?Object.defineProperty(d,"raw",{value:t}):d.raw=t,d},l;(function(d){d[d.EOS=0]="EOS",d[d.Text=1]="Text",d[d.Incomplete=2]="Incomplete",d[d.ESC=3]="ESC",d[d.Unknown=4]="Unknown",d[d.SGR=5]="SGR",d[d.OSCURL=6]="OSCURL"})(l||(l={}));var w=function(){function d(){this.VERSION="5.2.1",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1},this._escape_html=!0}return Object.defineProperty(d.prototype,"use_classes",{get:function(){return this._use_classes},set:function(t){this._use_classes=t},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(t){this._url_whitelist=t},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"escape_html",{get:function(){return this._escape_html},set:function(t){this._escape_html=t},enumerable:!1,configurable:!0}),d.prototype.setup_palettes=function(){var t=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(function(G){G.forEach(function(J){t.palette_256.push(J)})});for(var a=[0,95,135,175,215,255],c=0;c<6;++c)for(var o=0;o<6;++o)for(var h=0;h<6;++h){var E={rgb:[a[c],a[o],a[h]],class_name:"truecolor"};this.palette_256.push(E)}for(var C=8,A=0;A<24;++A,C+=10){var Q={rgb:[C,C,C],class_name:"truecolor"};this.palette_256.push(Q)}},d.prototype.escape_txt_for_html=function(t){return this._escape_html?t.replace(/[&<>"']/gm,function(a){if(a==="&")return"&amp;";if(a==="<")return"&lt;";if(a===">")return"&gt;";if(a==='"')return"&quot;";if(a==="'")return"&#x27;"}):t},d.prototype.append_buffer=function(t){var a=this._buffer+t;this._buffer=a},d.prototype.get_next_packet=function(){var t={kind:l.EOS,text:"",url:""},a=this._buffer.length;if(a==0)return t;var c=this._buffer.indexOf("\x1B");if(c==-1)return t.kind=l.Text,t.text=this._buffer,this._buffer="",t;if(c>0)return t.kind=l.Text,t.text=this._buffer.slice(0,c),this._buffer=this._buffer.slice(c),t;if(c==0){if(a<3)return t.kind=l.Incomplete,t;var o=this._buffer.charAt(1);if(o!="["&&o!="]"&&o!="(")return t.kind=l.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if(o=="["){this._csi_regex||(this._csi_regex=x(b([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `])));var h=this._buffer.match(this._csi_regex);if(h===null)return t.kind=l.Incomplete,t;if(h[4])return t.kind=l.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;h[1]!=""||h[3]!="m"?t.kind=l.Unknown:t.kind=l.SGR,t.text=h[2];var E=h[0].length;return this._buffer=this._buffer.slice(E),t}else if(o=="]"){if(a<4)return t.kind=l.Incomplete,t;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return t.kind=l.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=Z(b([`
                        (?:                         # legal sequence
                          (\x1B\\)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `]))),this._osc_st.lastIndex=0;{var C=this._osc_st.exec(this._buffer);if(C===null)return t.kind=l.Incomplete,t;if(C[3])return t.kind=l.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}{var A=this._osc_st.exec(this._buffer);if(A===null)return t.kind=l.Incomplete,t;if(A[3])return t.kind=l.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}this._osc_regex||(this._osc_regex=x(b([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `])));var h=this._buffer.match(this._osc_regex);if(h===null)return t.kind=l.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;t.kind=l.OSCURL,t.url=h[1],t.text=h[2];var E=h[0].length;return this._buffer=this._buffer.slice(E),t}else if(o=="(")return t.kind=l.Unknown,this._buffer=this._buffer.slice(3),t}},d.prototype.ansi_to_html=function(t){this.append_buffer(t);for(var a=[];;){var c=this.get_next_packet();if(c.kind==l.EOS||c.kind==l.Incomplete)break;c.kind==l.ESC||c.kind==l.Unknown||(c.kind==l.Text?a.push(this.transform_to_html(this.with_state(c))):c.kind==l.SGR?this.process_ansi(c):c.kind==l.OSCURL&&a.push(this.process_hyperlink(c)))}return a.join("")},d.prototype.with_state=function(t){return{bold:this.bold,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:t.text}},d.prototype.process_ansi=function(t){for(var a=t.text.split(";");a.length>0;){var c=a.shift(),o=parseInt(c,10);if(isNaN(o)||o===0)this.fg=this.bg=null,this.bold=!1,this.italic=!1,this.underline=!1;else if(o===1)this.bold=!0;else if(o===3)this.italic=!0;else if(o===4)this.underline=!0;else if(o===22)this.bold=!1;else if(o===23)this.italic=!1;else if(o===24)this.underline=!1;else if(o===39)this.fg=null;else if(o===49)this.bg=null;else if(o>=30&&o<38)this.fg=this.ansi_colors[0][o-30];else if(o>=40&&o<48)this.bg=this.ansi_colors[0][o-40];else if(o>=90&&o<98)this.fg=this.ansi_colors[1][o-90];else if(o>=100&&o<108)this.bg=this.ansi_colors[1][o-100];else if((o===38||o===48)&&a.length>0){var h=o===38,E=a.shift();if(E==="5"&&a.length>0){var C=parseInt(a.shift(),10);C>=0&&C<=255&&(h?this.fg=this.palette_256[C]:this.bg=this.palette_256[C])}if(E==="2"&&a.length>2){var A=parseInt(a.shift(),10),Q=parseInt(a.shift(),10),G=parseInt(a.shift(),10);if(A>=0&&A<=255&&Q>=0&&Q<=255&&G>=0&&G<=255){var J={rgb:[A,Q,G],class_name:"truecolor"};h?this.fg=J:this.bg=J}}}}},d.prototype.transform_to_html=function(t){var a=t.text;if(a.length===0||(a=this.escape_txt_for_html(a),!t.bold&&!t.italic&&!t.underline&&t.fg===null&&t.bg===null))return a;var c=[],o=[],h=t.fg,E=t.bg;t.bold&&c.push("font-weight:bold"),t.italic&&c.push("font-style:italic"),t.underline&&c.push("text-decoration:underline"),this._use_classes?(h&&(h.class_name!=="truecolor"?o.push(h.class_name+"-fg"):c.push("color:rgb("+h.rgb.join(",")+")")),E&&(E.class_name!=="truecolor"?o.push(E.class_name+"-bg"):c.push("background-color:rgb("+E.rgb.join(",")+")"))):(h&&c.push("color:rgb("+h.rgb.join(",")+")"),E&&c.push("background-color:rgb("+E.rgb+")"));var C="",A="";return o.length&&(C=' class="'+o.join(" ")+'"'),c.length&&(A=' style="'+c.join(";")+'"'),"<span"+A+C+">"+a+"</span>"},d.prototype.process_hyperlink=function(t){var a=t.url.split(":");if(a.length<1||!this._url_whitelist[a[0]])return"";var c='<a href="'+this.escape_txt_for_html(t.url)+'">'+this.escape_txt_for_html(t.text)+"</a>";return c},d}();function x(d){var t=d.raw[0],a=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,c=t.replace(a,"");return new RegExp(c)}function Z(d){var t=d.raw[0],a=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,c=t.replace(a,"");return new RegExp(c,"g")}Object.defineProperty(I,"__esModule",{value:!0}),I.default=w})})(Be);const ke=ze(Be);new ke;const tt={name:"consoleLog",data(){return{form:{},input:"",showFile:0,data:[],eventSource:null}},beforeUnmount(){if(this.eventSource)try{this.eventSource.close()}catch{}},mounted(){this.form.tabId=this.$route.params.tabId,this.form.genId=this.$route.params.genId,(!this.form.tabId||this.form.tabId==="null"||this.form.tabId==="undefined")&&delete this.form.tabId,(!this.form.genId||this.form.genId==="null")&&delete this.form.genId,this.subscribe(this.form.tabId?"TABLE":"DATABASE")},methods:{subscribe:function(j){const I=this;var b=new ke;if(this.eventSource)try{this.eventSource.close()}catch{}this.eventSource=new et.EventSourcePolyfill(this.$API.gen.table.subscribe.url+(this.form.tabId||this.form.genId)+"/"+j),this.eventSource.addEventListener(j,l=>{const w=JSON.parse(l.data);this.data.push(b.ansi_to_html(w.message).replaceAll(`
`,"<br/>")),this.data.length>1e4&&this.data.shift(),this.$nextTick(()=>{let x=this.$refs.containerRef;x.scrollTo({top:x.scrollHeight,behavior:"smooth"})})}),this.eventSource.onerror=function(l){},this.eventSource.onopen=function(l){I.$notify.success({title:"提示",dangerouslyUseHTMLString:!0,message:"订阅成功"})}}}},nt=["innerHTML"];function rt(j,I,b,l,w,x){const Z=re("el-empty"),d=re("el-button"),t=re("el-input"),a=re("el-dialog"),c=re("el-main"),o=re("el-container");return ue(),Ne(o,null,{default:me(()=>[ce(c,null,{default:me(()=>[xe("div",{ref:"containerRef",style:{height:"100%",overflow:"auto"},onKeyup:I[0]||(I[0]=je((...h)=>j.keyEvent&&j.keyEvent(...h),["native"]))},[xe("ul",null,[(ue(!0),He(Ye,null,Je(w.data,h=>(ue(),He("li",null,[xe("span",{innerHTML:h},null,8,nt)]))),256))]),!w.data||w.data.length==0?(ue(),Ne(Z,{key:0})):Ke("v-if",!0)],544),ce(d,{type:"primary",icon:"el-icon-search",style:{position:"fixed",right:"0",top:"50%",width:"40px",height:"40px"},onClick:I[1]||(I[1]=h=>w.showFile=!0)}),ce(a,{draggable:"",modelValue:w.showFile,"onUpdate:modelValue":I[3]||(I[3]=h=>w.showFile=h)},{default:me(()=>[ce(t,{ref:"input",modelValue:w.input,"onUpdate:modelValue":I[2]||(I[2]=h=>w.input=h),placeholder:"搜索",size:"large",clearable:"","prefix-icon":"el-icon-search",onKeyup:je(j.enterQuery,["enter"]),"trigger-on-focus":!1},null,8,["modelValue","onKeyup"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}const at=Ze(tt,[["render",rt],["__file","Z:/workspace/vue-support-parent-starter/vue-support-gen-starter/src/views/gen/console/log.vue"]]);export{at as default};
