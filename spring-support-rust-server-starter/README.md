# Spring Support Rust Server Starter

é«˜æ€§èƒ½ Rust HTTP æœåŠ¡å™¨å®¹å™¨ï¼Œæ›¿ä»£ Tomcat/Undertowï¼Œæä¾›æ›´é«˜çš„ååé‡å’Œå¹¶å‘èƒ½åŠ›ã€‚

## ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**ï¼šåŸºäº Rust Tokio + Hyper å¼‚æ­¥è¿è¡Œæ—¶ï¼Œå•æœºå¯è¾¾ 100K+ QPS
- ğŸ”Œ **æ— ç¼é›†æˆ**ï¼šå®ç° Spring Boot `ServletWebServerFactory`ï¼Œä¸šåŠ¡ä»£ç é›¶æ”¹åŠ¨
- âš™ï¸ **å…¼å®¹é…ç½®**ï¼šå®Œå…¨å…¼å®¹ `server.*` åŸç”Ÿé…ç½®ï¼ŒåŒæ—¶æ”¯æŒæ‰©å±•é…ç½®
- ğŸ§µ **è™šæ‹Ÿçº¿ç¨‹**ï¼šé»˜è®¤ä½¿ç”¨ Java 21 è™šæ‹Ÿçº¿ç¨‹å¤„ç†è¯·æ±‚
- ğŸ“Š **é™æµæ”¯æŒ**ï¼šå†…ç½®å…¨å±€/IPçº§åˆ«é™æµèƒ½åŠ›

## å¿«é€Ÿå¼€å§‹

### 1. æ·»åŠ ä¾èµ–

```xml
<dependency>
    <groupId>com.chua</groupId>
    <artifactId>spring-support-rust-server-starter</artifactId>
    <version>4.0.0</version>
</dependency>
```

### 2. å¯ç”¨é…ç½®

```yaml
plugin:
  rust-server:
    enabled: true
```

### 3. å¯é€‰é…ç½®

```yaml
# Spring Boot åŸç”Ÿé…ç½® (å®Œå…¨å…¼å®¹)
server:
  port: 8080
  address: 0.0.0.0
  servlet:
    context-path: /api

# Rust Server æ‰©å±•é…ç½®
plugin:
  rust-server:
    enabled: true
    max-connections: 65535
    request-timeout: 30s
    
    # é™æµ
    rate-limit:
      enabled: true
      requests-per-second: 10000
    
    # çº¿ç¨‹æ± 
    dispatcher:
      use-virtual-threads: true
```

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Spring Boot Application          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     @Controller / @Service / etc      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â–²                      â”‚
â”‚                      â”‚ Servlet API          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     RustServletWebServerFactory       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   Java Request Dispatcher       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   (Virtual Thread Pool)         â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚ IPC (TCP Socket)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Rust HTTP Server (è¿›ç¨‹)          â”‚  â”‚
â”‚  â”‚      Tokio + Hyper                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ„å»º Rust äºŒè¿›åˆ¶

```bash
cd rust/rust-http-server
cargo build --release

# è¾“å‡º: target/release/rust-http-server[.exe]
```

å°†ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶æ”¾å…¥ `src/main/resources/rust-server/` ç›®å½•ï¼š
- `rust-http-server-windows-amd64.exe`
- `rust-http-server-linux-amd64`
- `rust-http-server-linux-arm64`
- `rust-http-server-darwin-amd64`
- `rust-http-server-darwin-arm64`

## æ€§èƒ½å¯¹æ¯”

| åœºæ™¯ | Tomcat | Rust Server | æå‡ |
|------|--------|-------------|------|
| ç©ºå“åº” QPS | ~50K | ~150K+ | 3x+ |
| 1KB JSON | ~40K | ~120K+ | 3x+ |
| å¹¶å‘è¿æ¥ | ~10K | ~100K+ | 10x+ |

## æ³¨æ„äº‹é¡¹

1. éœ€è¦ Java 21+ (è™šæ‹Ÿçº¿ç¨‹)
2. é¦–æ¬¡å¯åŠ¨éœ€è¦ä¸‹è½½/ç¼–è¯‘ Rust äºŒè¿›åˆ¶
3. Session åŠŸèƒ½éœ€è¦é…åˆ Spring Session ä½¿ç”¨
4. éƒ¨åˆ†é«˜çº§ Servlet ç‰¹æ€§å¯èƒ½ä¸æ”¯æŒ

## License

Apache License 2.0
