import{_,r as n,o as p,g as v,w as l,b as t,e as r,d as f,t as i,c as y,h as b,l as k}from"./index-a5e257d7.js";const V={data(){return{form:{phone:"",yzm:""},rules:{phone:[{required:!0,message:this.$t("login.mobileError")}],yzm:[{required:!0,message:this.$t("login.smsError")}]},disabled:!1,time:0,islogin:!1}},mounted(){},methods:{async getYzm(){var o=await this.$refs.loginForm.validateField("phone").catch(()=>{});if(!o)return!1;this.$message.success(this.$t("login.smsSent")),this.disabled=!0,this.time=60;var s=setInterval(()=>{this.time-=1,this.time<1&&(clearInterval(s),this.disabled=!1,this.time=0)},1e3)},async login(){var o=await this.$refs.loginForm.validate().catch(()=>{});if(!o)return!1}}},w={class:"login-msg-yzm"},z={key:0},C={class:"login-reg"};function F(o,s,B,N,e,a){const c=n("el-input"),m=n("el-form-item"),u=n("el-button"),g=n("router-link"),h=n("el-form");return p(),v(h,{ref:"loginForm",model:e.form,rules:e.rules,"label-width":"0",size:"large",onKeyup:k(a.login,["enter"])},{default:l(()=>[t(m,{prop:"phone"},{default:l(()=>[t(c,{modelValue:e.form.phone,"onUpdate:modelValue":s[0]||(s[0]=d=>e.form.phone=d),"prefix-icon":"el-icon-iphone",clearable:"",placeholder:o.$t("login.mobilePlaceholder")},{prepend:l(()=>[r("+86")]),_:1},8,["modelValue","placeholder"])]),_:1}),t(m,{prop:"yzm",style:{"margin-bottom":"35px"}},{default:l(()=>[f("div",w,[t(c,{modelValue:e.form.yzm,"onUpdate:modelValue":s[1]||(s[1]=d=>e.form.yzm=d),"prefix-icon":"el-icon-unlock",clearable:"",placeholder:o.$t("login.smsPlaceholder")},null,8,["modelValue","placeholder"]),t(u,{onClick:a.getYzm,disabled:e.disabled},{default:l(()=>[r(i(this.$t("login.smsGet")),1),e.disabled?(p(),y("span",z," ("+i(e.time)+")",1)):b("v-if",!0)]),_:1},8,["onClick","disabled"])])]),_:1}),t(m,null,{default:l(()=>[t(u,{type:"primary",style:{width:"100%"},loading:e.islogin,round:"",onClick:a.login},{default:l(()=>[r(i(o.$t("login.signIn")),1)]),_:1},8,["loading","onClick"])]),_:1}),f("div",C,[r(i(o.$t("login.noAccount"))+" ",1),t(g,{to:"/user_register"},{default:l(()=>[r(i(o.$t("login.createAccount")),1)]),_:1})])]),_:1},8,["model","rules","onKeyup"])}const E=_(V,[["render",F],["__file","Z:/works/vue-support-parent-starter/vue-support-config-starter/src/views/login/components/phoneForm.vue"]]);export{E as default};
